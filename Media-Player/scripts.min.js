if ($('#counter').length) {
  function addCommas(nStr) {
    nStr += '';
    x = nStr.split('.');
    x1 = x[0];
    x2 = x.length > 1 ? '.' + x[1] : '';
    let rgx = /(\d+)(\d{3})/;
    while (rgx.test(x1)) {
      x1 = x1.replace(rgx, '$1' + ',' + '$2')
    }
    return x1 + x2
  }

  function doSomething() {
    let min = $('#counter').data('min'),
      max = $('#counter').data('max'),
      number = Math.floor(Math.random() * (max - min + 1) + min);
    $('.counter-value').text(addCommas(number))
  }
  (function loop() {
      let rand = Math.round(Math.random() * (5000 - 500)) + 500;
      setTimeout(function () {
        doSomething();
        loop()
      }, rand)
    }
    ())
}